# T[i] = max subarray sum up to index i
# T[0] = 0
# T[i] = T[i-1] + nums[i] if sum(T[i-1] + nums[i]) > 0, 0 otherwise

class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        T = [0, 0, nums[0]]
        
        for num in nums:
            T[-1] = max(T[-1], num)
            if num + T[0] > 0:
                T[0] += num
                T[1] = max(T)
            else:
                T[0] = 0

        return T[1] if T[-1] > 0 else T[-1]

# Time complexity is O(n)
# Space complexity is O(1)
